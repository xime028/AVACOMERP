<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<body>

<!-- HEADER reutilizable -->
<div th:fragment="appHeader(activeMenu)">
    <div class="topbar">
        <div class="topbar-left">
            <div class="logo">
                <img th:src="@{/img/avacom_erp_logo.svg}" alt="AVACOM ERP">
            </div>

            <nav class="menu">
                <a th:href="@{/clientes}"
                   class="menu-link"
                   th:classappend="${activeMenu} == 'clientes' ? ' menu-link--active' : ''">
                    Clientes
                </a>

                <a th:href="@{/analitica}"
                   class="menu-link"
                   th:classappend="${activeMenu} == 'analitica' ? ' menu-link--active' : ''">
                    Analítica
                </a>

                <a th:href="@{/almacen/productos}"
                   class="menu-link"
                   th:classappend="${activeMenu} == 'almacen' ? ' menu-link--active' : ''">
                    Almacén
                </a>

                <a th:href="@{/remisiones}"
                   class="menu-link"
                   th:classappend="${activeMenu} == 'remisiones' ? ' menu-link--active' : ''">
                    Remisiones
                </a>

                <a th:href="@{/capacitacion}"
                   class="menu-link"
                   th:classappend="${activeMenu} == 'capacitacion' ? ' menu-link--active' : ''">
                    Capacitación
                </a>

                <a th:href="@{/servicio-tecnico}"
                   class="menu-link"
                   th:classappend="${activeMenu} == 'servicio' ? ' menu-link--active' : ''">
                    Servicio técnico
                </a>

                <a th:href="@{/configuracion}"
                   class="menu-link"
                   th:classappend="${activeMenu} == 'configuracion' ? ' menu-link--active' : ''">
                    Configuración
                </a>
            </nav>
        </div>
        <div class="topbar-right">
            <div class="user-menu">
                <button type="button" class="user-menu-btn" onclick="toggleUserMenu()">
                    <div class="user-icon">
                        <img th:src="@{/img/user-icon.svg}" alt="Usuario">
                    </div>
                    <span class="user-label">Usuarios</span>
                    <span class="user-arrow">▾</span>
                </button>

                <div id="user-menu-dropdown" class="user-menu-dropdown">
                    <a th:href="@{/usuarios/perfil}">Mi perfil</a>
                    <a th:href="@{/usuarios}">Administrar usuarios</a>
                    <form th:action="@{/logout}" method="post">
                        <button type="submit">Cerrar sesión</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- FOOTER reutilizable -->
<div th:fragment="appFooter">
    <div class="footer-bar">
        <div class="footer-content">
            <span class="footer-icon">ⓒ</span>
            <span class="footer-text">2025 AVACOM</span>
        </div>
    </div>
</div>

</body>
</html>